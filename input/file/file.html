
<script type="text/x-red" data-template-name="ls-in-file">
    <div class="form-row">
        <label for="node-input-ls_codec">Codec</label>
        <select id="node-input-ls_codec">
            <option value="json">json</option>
            <option value="line" selected="selected">line</option>
            <option value="plain">plain</option>
            <option value="rubydebug">rubydebug</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-ls_path"><i class="fa fa-file"></i> Path</label>
        <input type="text" id="node-input-ls_path" placeholder="File path">
    </div>
    <div class="form-row">
        <label for="node-input-ls_delimiter"><i class="fa fa-file"></i> Line delimiter</label>
        <input type="text" id="node-input-ls_delimiter" placeholder="\n">
    </div>
    <div class="form-row">
        <label for="node-input-ls_discover_interval"><i class="fa fa-timer"></i> Discover interval</label>
        <input type="text" id="node-input-ls_discover_interval" placeholder="15">
    </div>
    <div class="form-row">
        <label for="node-input-ls_sincedb_path"><i class="fa fa-file"></i> SinceDB path</label>
        <input type="text" id="node-input-ls_sincedb_path" placeholder="/path/to/sincedb">
    </div>
    <div class="form-row">
        <label for="node-input-ls_sincedb_write_interval"><i class="fa fa-timer"></i> SinceDB write interval</label>
        <input type="text" id="node-input-ls_sincedb_write_interval" placeholder="15">
    </div>
    <div class="form-row">
        <label for="node-input-ls_start_position"><i class="fa fa-"></i> Start position</label>
        <input type="text" id="node-input-ls_start_position" placeholder="end">
    </div>
    <div class="form-row">
        <label for="node-input-ls_stat_interval"><i class="fa fa-timer"></i> Stat interval</label>
        <input type="text" id="node-input-ls_stat_interval" placeholder="1">
    </div>
    <div class="form-row">
        <label for="node-input-ls_type"><i class="fa fa-tag"></i> Type</label>
        <input type="text" id="node-input-ls_type" placeholder="Type">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-file"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red" data-help-name="ls-in-file">
    <p>A Logstash node that tails data from configured files.</p>
    <iframe src="https://www.elastic.co/guide/en/logstash/current/plugins-inputs-file.html" style="width:100%;margin:0;padding:0;border:none;height:400px;" />
</script>

<script type="text/javascript">
    RED.nodes.registerType('ls-in-file',{
        category: 'Logstash-input',
        defaults: {
            name: {value:""},
            ls_codec: {value:""},
            ls_discover_interval: {value: ""},
            ls_path: {value:"", required: true},
            ls_sincedb_path: {value:""},
            ls_sincedb_write_interval: {value: ""},
            ls_start_position: {value:""},
            ls_stat_interval: {value:""},
            ls_type: {value:""}
        },
        inputs:0,
        outputs:1,
        icon: 'arrow-in.png',
        color: '#87A980',
        label: function() {
            return this.name || this.ls_path || "LS file";
        }
    });
</script>
